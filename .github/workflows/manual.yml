on:
  push:
    branches:
      - main

 

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

 

    steps:
      - name: Checkout Code
        uses: actions/checkout@v2

 

      - name: Setting up Java (JDK 20)
        uses: actions/setup-java@v2
        with:
          java-version: 20

 

      - name: Build with Maven
        run: mvn clean install

 

      - name: Authentication in AWS
        uses: aws-actions/configure-aws-credentials@v1
        with:
          aws-access-key-id: AKIAZDS36EYFX2JFY6WU
          aws-secret-access-key: URsywGwkq6JXwPVqeQCw+s0Qz6QyYPZI5OmLPFaG
          aws-region: ap-south-1

 

      - name: Deploying in ECS
        run: |
          # Replace the following with your ECS deployment script or AWS CLI commands
          # Example:
          # aws ecs update-service --cluster proj --service YourServiceName --force-new-deployment
          echo "Deployment command here"

# # This is a basic workflow that is manually triggered

# name: Manual workflow

# # Controls when the action will run. Workflow runs when manually triggered using the UI
# # or API.
# on:
#   workflow_dispatch:
#     # Inputs the workflow accepts.
#     inputs:
#       name:
#         # Friendly description to be shown in the UI instead of 'name'
#         description: 'Person to greet'
#         # Default value if no value is explicitly provided
#         default: 'World'
#         # Input has to be provided for the workflow to run
#         required: true
#         # The data type of the input
#         type: string

# # A workflow run is made up of one or more jobs that can run sequentially or in parallel
# jobs:
#   # This workflow contains a single job called "greet"
#   greet:
#     # The type of runner that the job will run on
#     runs-on: ubuntu-latest

#     # Steps represent a sequence of tasks that will be executed as part of the job
#     steps:
#     # Runs a single command using the runners shell
#     - name: Send greeting
#       run: echo "Hello ${{ inputs.name }}"
